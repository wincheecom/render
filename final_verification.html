<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»“åº“ä»»åŠ¡å¡æœ€ç»ˆéªŒè¯</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        
        .verification-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-area {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #007bff;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        
        /* æœ€ç»ˆä¿®å¤çš„CSSè§„åˆ™ */
        .task-gallery.warehouse-tasks-gallery {
            display: grid !important;
            grid-template-columns: repeat(3, 1fr) !important;
            gap: 15px !important;
            margin-top: 15px !important;
            width: 100% !important;
            align-content: start !important;
            justify-content: stretch !important;
            grid-auto-rows: minmax(250px, auto) !important;
        }
        
        .task-gallery.warehouse-tasks-gallery .task-flip-container {
            display: block !important;
            width: 100% !important;
            height: auto !important;
            margin: 0 !important;
            padding: 0 !important;
            min-height: 250px !important;
        }
        
        .task-gallery.warehouse-tasks-gallery .task-front {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            text-align: center !important;
            justify-content: space-between !important;
            padding: 15px !important;
            background-color: white !important;
            border-radius: 10px !important;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08) !important;
            min-height: 250px !important;
            width: 100% !important;
        }
        
        .task-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .status-indicator {
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }
        
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        
        .verification-steps {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="verification-container">
        <h1>âœ… ä»“åº“ä»»åŠ¡å¡æœ€ç»ˆéªŒè¯</h1>
        
        <div class="verification-steps">
            <h3>éªŒè¯æ­¥éª¤ï¼š</h3>
            <ol>
                <li>è§‚å¯Ÿä¸‹æ–¹æµ‹è¯•åŒºåŸŸçš„ä»»åŠ¡å¡æ’åˆ—</li>
                <li>ç¡®è®¤æ˜¯å¦æ¯è¡Œæ˜¾ç¤º3ä¸ªä»»åŠ¡å¡</li>
                <li>æ£€æŸ¥å¡ç‰‡é—´æ˜¯å¦æœ‰é€‚å½“é—´è·</li>
                <li>éªŒè¯åœ¨ä¸åŒçª—å£å¤§å°ä¸‹çš„å“åº”å¼è¡¨ç°</li>
            </ol>
        </div>
        
        <div class="test-area">
            <h3>ğŸ§ª å¸ƒå±€æµ‹è¯•åŒºåŸŸ</h3>
            <div class="task-gallery warehouse-tasks-gallery" id="verification-layout">
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 1</h4>
                            <p>è´§å·: PROD-001</p>
                            <p>æ•°é‡: 5ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜A</p>
                        </div>
                    </div>
                </div>
                
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 2</h4>
                            <p>è´§å·: PROD-002</p>
                            <p>æ•°é‡: 3ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜B</p>
                        </div>
                    </div>
                </div>
                
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 3</h4>
                            <p>è´§å·: PROD-003</p>
                            <p>æ•°é‡: 8ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜C</p>
                        </div>
                    </div>
                </div>
                
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 4</h4>
                            <p>è´§å·: PROD-004</p>
                            <p>æ•°é‡: 2ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜A</p>
                        </div>
                    </div>
                </div>
                
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 5</h4>
                            <p>è´§å·: PROD-005</p>
                            <p>æ•°é‡: 7ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜B</p>
                        </div>
                    </div>
                </div>
                
                <div class="task-flip-container">
                    <div class="task-front">
                        <div class="task-card">
                            <h4>ä»»åŠ¡å¡ 6</h4>
                            <p>è´§å·: PROD-006</p>
                            <p>æ•°é‡: 4ä»¶</p>
                            <p>åˆ›å»ºäºº: ç®¡ç†å‘˜C</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="verification-result" class="status-indicator info">
            æ­£åœ¨éªŒè¯å¸ƒå±€æ•ˆæœ...
        </div>
        
        <div class="verification-steps">
            <h3>é¢„æœŸç»“æœï¼š</h3>
            <ul>
                <li>âœ… ç¬¬ä¸€è¡Œæ˜¾ç¤ºä»»åŠ¡å¡1ã€2ã€3ï¼ˆæ¨ªå‘æ’åˆ—ï¼‰</li>
                <li>âœ… ç¬¬äºŒè¡Œæ˜¾ç¤ºä»»åŠ¡å¡4ã€5ã€6ï¼ˆæ¨ªå‘æ’åˆ—ï¼‰</li>
                <li>âœ… å¡ç‰‡é—´æœ‰15pxé—´è·</li>
                <li>âœ… æ‰€æœ‰å¡ç‰‡é«˜åº¦ä¸€è‡´ï¼ˆè‡³å°‘250pxï¼‰</li>
                <li>âœ… å“åº”å¼ï¼šå°å±å¹•æ—¶è‡ªåŠ¨è°ƒæ•´ä¸º1-2åˆ—</li>
            </ul>
        </div>
    </div>

    <script>
        function verifyLayout() {
            const resultDiv = document.getElementById('verification-result');
            const gallery = document.querySelector('.task-gallery.warehouse-tasks-gallery');
            const containers = gallery.querySelectorAll('.task-flip-container');
            
            if (containers.length < 3) {
                resultDiv.className = 'status-indicator error';
                resultDiv.innerHTML = 'âŒ ä»»åŠ¡å¡æ•°é‡ä¸è¶³ï¼Œæ— æ³•éªŒè¯å¸ƒå±€';
                return;
            }
            
            const computedStyle = window.getComputedStyle(gallery);
            const containerRect = gallery.getBoundingClientRect();
            
            // æ£€æŸ¥åŸºæœ¬å¸ƒå±€å±æ€§
            const isGrid = computedStyle.display === 'grid';
            const hasThreeColumns = computedStyle.gridTemplateColumns.includes('1fr 1fr 1fr') || 
                                  computedStyle.gridTemplateColumns.includes('repeat(3');
            const hasGap = computedStyle.gap === '15px';
            
            // æ£€æŸ¥å®é™…æ’åˆ—æ•ˆæœ
            const firstThreeCards = Array.from(containers).slice(0, 3);
            const positions = firstThreeCards.map(card => card.getBoundingClientRect());
            
            const sameRow = positions.every((pos, index) => {
                if (index === 0) return true;
                return Math.abs(pos.top - positions[0].top) < 20; // å…è®¸20pxçš„è¯¯å·®
            });
            
            // ç”Ÿæˆç»“æœ
            const results = [];
            if (isGrid && hasThreeColumns && sameRow) {
                resultDiv.className = 'status-indicator success';
                results.push('âœ… å¸ƒå±€éªŒè¯é€šè¿‡ï¼');
                results.push('âœ… ç½‘æ ¼æ˜¾ç¤ºæ­£å¸¸');
                results.push('âœ… ä¸‰åˆ—å¸ƒå±€æ­£ç¡®');
                results.push('âœ… ä»»åŠ¡å¡æ¨ªå‘æ’åˆ—');
                results.push(`ğŸ“Š å®¹å™¨å®½åº¦: ${Math.round(containerRect.width)}px`);
                results.push(`ğŸ“Š å¡ç‰‡é—´è·: ${computedStyle.gap}`);
            } else {
                resultDiv.className = 'status-indicator error';
                results.push('âŒ å¸ƒå±€éªŒè¯å¤±è´¥');
                if (!isGrid) results.push('  - displayä¸æ˜¯grid');
                if (!hasThreeColumns) results.push('  - åˆ—æ•°è®¾ç½®ä¸æ­£ç¡®');
                if (!sameRow) results.push('  - ä»»åŠ¡å¡æœªæ¨ªå‘æ’åˆ—');
                results.push(`å½“å‰display: ${computedStyle.display}`);
                results.push(`å½“å‰åˆ—æ•°: ${computedStyle.gridTemplateColumns}`);
            }
            
            resultDiv.innerHTML = results.join('<br>');
        }
        
        // é¡µé¢åŠ è½½åéªŒè¯
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(verifyLayout, 1000);
        });
        
        // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°éªŒè¯
        window.addEventListener('resize', function() {
            setTimeout(verifyLayout, 500);
        });
    </script>
</body>
</html>